<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>How to configure Cisco devices remotely &#8211; Costin's place</title>
    <link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com">
    <link rel="dns-prefetch" href="//cdn.mathjax.org">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Yet another network guy with a blog on the internet">
    <meta name="robots" content="all">
    <meta name="author" content="Costin Stefan">
    
    <meta name="keywords" content="">
    <link rel="canonical" href="https://costinstefan.eu/how-to-configure-cisco-devices-remotely/">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for Costin's place" href="/feed.xml" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/pixyll.css?202009161446" type="text/css">

    <!-- Fonts -->
    
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    
    
      <link href="//maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    

    <!-- MathJax -->
    

    <!-- Verifications -->
    
    

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="How to configure Cisco devices remotely">
    <meta property="og:description" content="Yet another network guy with a blog on the internet">
    <meta property="og:url" content="https://costinstefan.eu/how-to-configure-cisco-devices-remotely/">
    <meta property="og:site_name" content="Costin's place">
    

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    
        <meta name="twitter:site" content="@costin_cz" />
        <meta name="twitter:creator" content="@costin_cz" />
    
    <meta name="twitter:title" content="How to configure Cisco devices remotely" />
    <meta name="twitter:description" content="Yet another network guy with a blog on the internet" />
    <meta name="twitter:url" content="https://costinstefan.eu/how-to-configure-cisco-devices-remotely/" />
    

    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/icons/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/icons/favicon-32x32.png" sizes="32x32">

    
    <script type="text/javascript">
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
       ga('create', 'UA-5736067-3', 'auto');
       ga('send', 'pageview');
    </script>
    


  <!-- Begin Jekyll SEO tag v2.3.0 -->
<meta property="og:title" content="Installing Jekyll SEO Tag" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A Jekyll plugin to add metadata tags for search engines and social networks to better index and display your site’s content." />
<meta property="og:description" content="A Jekyll plugin to add metadata tags for search engines and social networks to better index and display your site’s content." />
<link rel="canonical" href="https://costinstefan.eu" />
<meta property="og:url" content="https://costinstefan.eu" />
<meta property="og:site_name" content="Costin Stefan's Blog" />
<script type="application/ld+json">
{"name":null,"description":"A Jekyll plugin to add metadata tags for search engines and social networks to better index and display your site’s content.","author":null,"@type":"WebPage","url":"http://jekyll.github.io/jekyll-seo-tag/installation/","image":null,"publisher":null,"headline":"Installing Jekyll SEO Tag","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body class="site">
  
	

  <div class="site-wrap">
    <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
    <a href="/" style="font-size:32px">C<i class="dot-head">.</i>STIN</a>
      <nav class="site-nav">
        

    
    
    

    
        <a href="/about/">About</a>
    
    
    

    
    
        <a href="/contact/">Say Hello</a>
    
    

    
    
    
        <a href="/cv/">CV</a>
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    


      </nav>
      <div class="clearfix"></div>
      
        <div class="social-icons">
  <div class="social-icons-right">
    
      <a class="fa fa-github" href="https://github.com/caustee"></a>
    
    
    
    <a class="fa fa-rss" href="/feed.xml"></a>
    
      <a class="fa fa-twitter" href=></a>
    
    
    
    
    
      <a class="fa fa-envelope" href="mailto:site@costinstefan.eu"></a>
    
    
      <a class="fa fa-linkedin" href="https://www.linkedin.com/in/costinstefan"></a>
    
    
    
    
    
  </div>
  <div class="right">
    
    
    
  </div>
</div>
<div class="clearfix"></div>

      
    </div>
  </div>
</header>


    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        


<div class="post-header mb2">
  <h1>How to configure Cisco devices remotely</h1>
  <span class="post-meta">May 4, 2017</span><br>
  
  <span class="post-meta small">
  
    1 min. read
  
  </span>
</div>

<article class="post-content">
  <p>So, let’s assume you are a network engineer that has to configure something on a new Cisco switch/router. You don’t have console access and just connect to the box via ssh. You either have a typo in your commands or don’t copy the whole line of your pre-tested commands and after you press enter BANG, you’ve lost connection and start sweating. You know the feeling, right? Me neither…</p>

<p>The classic solution to this is to schedule a reload in something like 10 minutes: <code class="language-plaintext highlighter-rouge">reload in 10</code></p>

<p>This works great, but the problem is that you have to wait for the box to come back alive (and users will be disconnected during the reload).
Another method is to revert the config with no reload. For this you have to first configure a local copy of config on the disk:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Router#mkdir Backup
Create directory filename [Backup]?
Created dir bootflash:/Backup
Router#conf t
Router(config)#archive
Router(config-archive)#path bootflash:/Backup/backup
Router(config-archive)#write-memory
</code></pre></div></div>

<p>And then go to config mode like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Router#configure terminal revert timer 2
Rollback Confirmed Change: Backing up current running config to bootflash:/Backup/backup-May--4-13-16-19.360-0

Enter configuration commands, one per line.  End with CNTL/Z.
</code></pre></div></div>

<p>And then in 2 minutes you’ll have to confirm the change with <code class="language-plaintext highlighter-rouge">config confirm</code>. If not, it will revert to the backup it just created (bootflash:/Backup/backup-May–4-13-16-19.360-0 in my case)</p>

<p>That’s it! Simple as that, you can even create an alias for this:</p>

<p><code class="language-plaintext highlighter-rouge">Router(config)#alias exec cfg conf term revert timer 2</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Router#cfg

*May  4 14:05:33.658: %SYS-5-CONFIG_I: Configured from console by consoleRollback Confirmed Change: Backing up current running config to bootflash:/Backup/backup-May--4-14-05-34.882-1

Enter configuration commands, one per line.  End with CNTL/Z.
Router(config)#
*May  4 14:05:35.179: %ARCHIVE_DIFF-5-ROLLBK_CNFMD_CHG_BACKUP: Backing up current running config to bootflash:/Backup/backup-May--4-14-05-34.882-1
*May  4 14:05:35.179: %ARCHIVE_DIFF-5-ROLLBK_CNFMD_CHG_START_ABSTIMER: User: console(Priv: 15, View: 0): Scheduled to rollback to config bootflash:/Backup/backup-May--4-14-05-34.882-1 in 2 minutes

</code></pre></div></div>


</article>

<small>

  <div class="share-page">
  If you find this page interesting, feel free to share it:

  <div class="share-links">
    

    
      <a class="fa fa-twitter" href="https://twitter.com/intent/tweet?text=How to configure Cisco devices remotely&url=https://costinstefan.eu/how-to-configure-cisco-devices-remotely/" rel="nofollow" target="_blank" title="Share on Twitter"></a>
    

    
      <a class="fa fa-linkedin" href="http://www.linkedin.com/shareArticle?url=https://costinstefan.eu/how-to-configure-cisco-devices-remotely/&title=How to configure Cisco devices remotely" rel="nofollow" target="_blank" title="Share on LinkedIn"></a>
    
  </div>
</div>


</small>


  <div class="py2 post-footer">
<p>Costin Stefan</p>
</div>



<div id="latest-posts" class="row">



        <div class="col-12 col-md-6 mb-md-0 mb-3">
            <a href="https://costinstefan.eu/how-to-update-ntp-servers-on-hp-3par-7200c/">
                <img src="/" alt="How to change NTP server on HP 3PAR 7200c"
                     class="img-fluid">
        </div>





        <div class="col-12 col-md-6 mb-md-0 mb-3">
            <a href="https://costinstefan.eu/how-to-bypass-chrome-error/">
                <img src="/" alt="How to bypass Chrome error "Your connection is not private""
                     class="img-fluid">
        </div>







</div>




      </div>
    </div>
  </div>

  <footer class="center">
  <div class="measure">
    <small>
     2020&nbsp;&nbsp; This website belongs to me. I may not be always right, but I have opinions and Internet access and I'm not afraid to use them! <br>
      Theme crafted with &lt;3 by <a href="http://johnotander.com">John Otander</a>.
    </small>
  </div>
</footer>


</body>
</html>
